---
interface CardItem {
    img: string;
    text: string;
    link: string;
}

interface Props {
    title: string;
    tabData: {
        label: string;
        items: CardItem[];
    }[];
}

const { title, tabData } = Astro.props;
---

<section id="tab" class="tab__section">
    <h2>{title}</h2>
    <div class="tab__wrapper">
        <div class="tab__menu">
            <div class="tab__buttons">
                {
                    tabData.map((tab, index) => (
                        <button class={`tab__button ${index === 0 ? 'active' : ''}`}>{tab.label}</button>
                    ))
                }
            </div>

            {
                tabData.map((tab, index) => (
                    <div class={`tab__panel ${index === 0 ? 'active' : ''}`}>
                        <div class="tab__contents">
                            <div class="tab__column">
                                {tab.items.slice(0, 2).map((item) => (
                                    <a href={item.link} class="card__link">
                                        <div class="img__wrapper">
                                            <img src={item.img} alt="" />
                                        </div>
                                        <p>{item.text}</p>
                                    </a>
                                ))}
                            </div>
                            <div class="tab__column">
                                {tab.items.slice(2).map((item) => (
                                    <a href={item.link} class="card__link">
                                        <div class="img__wrapper">
                                            <img src={item.img} alt="" />
                                        </div>
                                        <p>{item.text}</p>
                                    </a>
                                ))}
                            </div>
                        </div>
                    </div>
                ))
            }
        </div>
    </div>
</section>

<style>
    .tab__section {
        display: flex;
        flex-direction: column;
        padding: 3rem;
    }

    .tab__wrapper {
        width: 100%;
    }

    .tab__section h2 {
        margin-bottom: var(--spacing-base);
        font-size: var(--font-size-xl);
        font-weight: var(--font-weight-bold);
        text-align: center;
    }

    @media screen and (width <= 47.9375rem) {
        .tab__section {
            padding: 4rem 2rem;
        }

        .tab__section h2 {
            margin-bottom: 1.125rem;
            font-size: 1.75rem;
            text-align: center;
        }
    }
</style>
